//go:generate go run ./internal/generate.go

package events

// Event represents a single event payload.  It is generated by parsing the
// cue definitions for each event within this repo.
type Event struct {
	// Name is the unique full name of the event.
	Name string `json:"name"`

	// Service represents the service that generates this event.  For example,
	// if this event documents an event from Stripe, this field is "stripe".
	Service string `json:"integration"`

	// Description is a short human description of the event.
	Description string `json:"description"`

	// Version represents the version of this event.  This allows for changing
	// event schemas over time.
	Version string `json:"version"`

	// Cue is the cue type definition of the event, without annotations.
	Cue string `json:"cue"`

	// Schema is the JSON schema definition of the event.
	Schema map[string]interface{} `json:"schema"`

	// TypeScript is the TypeScript definition of the event.
	TypeScript string `json:"typescript"`

	// Example are canonical example events to display in the UI.
	Examples []map[string]interface{} `json:"examples,omitempty"`
}
